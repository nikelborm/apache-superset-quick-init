# apache-superset-quick-init

[![Release Workflow](https://github.com/nikelborm/apache-superset-quick-init/actions/workflows/main.yml/badge.svg)](https://github.com/nikelborm/apache-superset-quick-init/actions/workflows/main.yml)

I'm currently in the process of rewriting it to typescript since it uses js script ([nikelborm/download-github-folder](https://github.com/nikelborm/download-github-folder/)) anyway

> [!NOTE]
> Make sure to read the steps for installation from GitHub NPM Registry copied from [here](https://github.com/nikelborm/download-github-folder/#from-github-npm-registry):
>
> 1. [Generate `Personal access token (classic)` with `read:packages` scope](https://github.com/settings/tokens/new?description=Install%20packages%20from%20GitHub%20NPM%20registry&scopes=read:packages&default_expires_at=none)
> 2. Save the token
> 3. Run `npm login --scope=@nikelborm --auth-type=legacy --registry=https://npm.pkg.github.com` (read more about `--auth-type=legacy` [here](https://docs.github.com/en/packages/working-with-a-github-packages-registry/working-with-the-npm-registry#authenticating-with-a-personal-access-token))
> 4. Enter your username when asked
> 5. Paste the token as password value

## Dependencies

1. curl (for loading scripts and compose files)
2. openssl (for automatic password generation)
3. node (You can install it easily using [NVM](https://github.com/nvm-sh/nvm))
4. docker (for running superset)

## How to use

```bash
curl https://raw.githubusercontent.com/nikelborm/apache-superset-quick-init/refs/heads/main/main.sh | bash

cd ./superset
# To generate passwords you can use `openssl rand -base64 48`.
# Passwords are auto-generated by default in ./main.sh, so you don't need to generate them manually.
# If you need to edit some unusual vars, uncomment those commands to edit them
# nano ./docker/.env
# nano ./docker/superset-websocket/config.json

# Choose the tag you want: 'latest' or something specific like '4.1.1'
# here are examples of tags:
# https://superset.apache.org/docs/installation/docker-builds/#key-tags-examples
# https://github.com/apache/superset/blob/master/CHANGELOG.md
# https://github.com/apache/superset/releases

export TAG='latest'
# If use choose `latest`, good idea to always pull
# docker compose up -d --pull always
docker compose up -d
# Follow logs until completely deployed
docker compose logs -f
```

## TODO

1. create a separate script for quick registering of a new database into a newly created Superset instance
